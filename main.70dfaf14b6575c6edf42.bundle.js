(()=>{var n={575:e=>{function t(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}e.exports=t},913:e=>{function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function t(e,t,n){if(t)a(e.prototype,t);if(n)a(e,n);return e}e.exports=t}};var a={};function l(e){if(a[e]){return a[e].exports}var t=a[e]={exports:{}};n[e](t,t.exports,l);return t.exports}(()=>{l.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;l.d(t,{a:t});return t}})();(()=>{l.d=(e,t)=>{for(var n in t){if(l.o(t,n)&&!l.o(e,n)){Object.defineProperty(e,n,{enumerable:true,get:t[n]})}}}})();(()=>{l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{"use strict";var e=l(575);var t=l.n(e);var n=l(913);var a=l.n(n);function s(e,t){return Math.floor(Math.random()*(t-e)+e)}var i=function(){function e(){t()(this,e);this.imp={field:[],drug:[],lead:[],steel:[],aluminum:[]};this.minutes=1;this.isRunning=false;this.type="field";this.intervals=[];this.timeouts=[];this.datePast=new Date;this.dateNow=new Date;this.updateDisplay(0);this.rotateKnob(1);this.resetLamps();document.querySelector("[data-type='".concat(this.type,"']")).classList.toggle("active-panel-btn")}a()(e,[{key:"setDate",value:function e(t,n){this.datePast=t;this.dateNow=n}},{key:"setTimer",value:function e(){var t=document.getElementById("timer");var n=Math.abs(this.dateNow-this.datePast)/1e3;var a=Math.floor(n/60)%60;var s=Math.floor(n%60);t.innerHTML="".concat(a,":").concat(s.toString().length<2?"0".concat(s):s)}},{key:"resetLamps",value:function e(n){var a=this;var t=Object.values(document.getElementsByClassName("lamp"));t.filter(function(e){return e.classList.contains("active-lamp")}).forEach(function(e){return e.classList.toggle("active-lamp")});t.filter(function(e,t){return t<(n||a.minutes)}).forEach(function(e){return e.classList.toggle("active-lamp")})}},{key:"rotateKnob",value:function e(t){if(!this.isRunning&&!t){document.getElementById("audio-rotate-knob-right").cloneNode(true).play();this.minutes=this.minutes===5?this.minutes=1:this.minutes+=1;this.resetLamps()}if(t){document.getElementById("audio-rotate-knob-left").cloneNode(true).play()}var n=document.getElementById("knob");switch(t||this.minutes){case 1:if(t)this.resetLamps(t);n.style.transform="rotate(-40deg)";break;case 2:if(t)this.resetLamps(t);n.style.transform="rotate(-25deg)";break;case 3:if(t)this.resetLamps(t);n.style.transform="rotate(0deg)";break;case 4:if(t)this.resetLamps(t);n.style.transform="rotate(25deg)";break;case 5:if(t)this.resetLamps(t);n.style.transform="rotate(40deg)";break;default:}}},{key:"runTimer",value:function e(t,n){var a=this;var s=this.generateImps();this.setTimer();var i=n||0;this.intervals.push(setInterval(function(){i+=1;a.updateDisplay(i)},Math.floor(6e4/s)));var r=0;this.intervals.push(setInterval(function(){a.setDate(new Date,a.dateNow);a.setTimer();r+=1;return r%2?document.getElementById("audio-tick-2").cloneNode(true).play():document.getElementById("audio-tick-1").cloneNode(true).play()},1e3));this.intervals.push(setInterval(function(){Object.values(document.getElementsByClassName("lamp"))[t-1].classList.toggle("active-lamp")},1e3));this.timeouts.push(setTimeout(function(){a.intervals.forEach(function(e){return clearInterval(e)});a.intervals=[];a.setTimer();a.imp[a.type].push(s);a.updateDisplay((n||0)+s);a.draw();if(t-1>0){a.rotateKnob(t-1);a.runTimer(t-1,(n||0)+s);return}document.getElementById("audio-loop-end").cloneNode(true).play();a.rotateKnob(a.minutes);a.isRunning=false;document.getElementById("start-btn").classList.toggle("active-btn")},6e4))}},{key:"generateImps",value:function e(){switch(this.type){case"field":return s(13,17);case"drug":return s(18,22);case"lead":return s(17,21);case"steel":return s(15,19);case"aluminum":return s(16,20);default:}}},{key:"updateDisplay",value:function e(t){var n=t.toString().length;switch(n){case 1:this.display="000".concat(t);break;case 2:this.display="00".concat(t);break;case 3:this.display="0".concat(t);break;case 4:this.display=t.toString();break;default:this.display="0000"}document.getElementById("dial").innerHTML=this.display}},{key:"reset",value:function e(){this.intervals.forEach(function(e){return clearInterval(e)});this.intervals=[];this.timeouts.forEach(function(e){return clearTimeout(e)});this.timeouts=[];this.setDate(new Date,new Date);this.setTimer();this.minutes=1;this.isRunning=false;document.getElementById("start-btn").classList.remove("active-btn");this.updateDisplay(0);this.rotateKnob(1)}},{key:"clearTable",value:function e(){if(this.isRunning){return}this.imp={field:[],drug:[],lead:[],steel:[],aluminum:[]};this.draw()}},{key:"draw",value:function e(){var t=document.getElementById("table");t.style.display="none";Object.values(document.getElementsByClassName("temp-row")).forEach(function(e){e.parentNode.removeChild(e)});var n=Object.values(this.imp).map(function(e){return e.length}).reduce(function(e,t){return t>e?t:e});for(var a=0;a<n;a+=1){var s=t.insertRow(3+a);s.classList.add("temp-row");var i=s.insertCell();i.innerHTML=a+1;i=s.insertCell();i.innerHTML=this.imp.field[a]||" ";i=s.insertCell();i.innerHTML=this.imp.drug[a]||" ";i=s.insertCell();i.innerHTML=this.imp.lead[a]||" ";if(!a){i=s.insertCell();i.innerHTML="4.6";i.rowSpan="".concat(n)}i=s.insertCell();i.innerHTML=this.imp.steel[a]||" ";if(!a){i=s.insertCell();i.innerHTML="5.9";i.rowSpan="".concat(n)}i=s.insertCell();i.innerHTML=this.imp.aluminum[a]||" ";if(!a){i=s.insertCell();i.innerHTML="5.9";i.rowSpan="".concat(n)}}t.style.display="table"}},{key:"start",value:function e(){this.isRunning=true;this.setDate(new Date,new Date((new Date).getTime()+this.minutes*6e4));this.runTimer(this.minutes)}}]);return e}();var r=new i;r.setTimer();document.getElementById("start-btn").addEventListener("click",function(e){if(r.isRunning)return;document.getElementById("audio-start-btn").cloneNode(true).play();r.start();e.target.classList.toggle("active-btn")},false);document.getElementById("clear-table-btn").addEventListener("click",function(){r.clearTable()},false);document.getElementById("reset-btn").addEventListener("click",function(){r.reset()},false);document.getElementById("knob").addEventListener("click",function(){r.rotateKnob()},false);Object.values(document.getElementById("control-panel").children).forEach(function(a){a.addEventListener("click",function(){if(r.isRunning)return;var e=document.getElementById("drug");var t=document.getElementById("plate");var n=document.getElementById("plate-text-field").children[0];e.style.top="0px";t.style.top="0px";document.getElementById("audio-switch-type").cloneNode(true).play();document.querySelector("[data-type='".concat(r.type,"']")).classList.toggle("active-panel-btn");r.type=a.dataset.type;document.querySelector("[data-type='".concat(r.type,"']")).classList.toggle("active-panel-btn");switch(r.type){case"field":break;case"drug":e.style.display="block";e.style.top="175px";break;case"lead":t.style.display="block";t.style.top="150px";e.style.display="block";e.style.top="175px";n.innerHTML="lead";break;case"steel":t.style.display="block";t.style.top="150px";e.style.display="block";e.style.top="175px";n.innerHTML="steel";break;case"aluminum":t.style.display="block";t.style.top="150px";e.style.display="block";e.style.top="175px";n.innerHTML="aluminum";break;default:}},false)})})()})();